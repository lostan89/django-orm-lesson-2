# Пульт охраны банка (ver 2.0)

Это проект пропускной системы в хранилище банка с возможностью просмотра информации о пользователях, имеющих туда доступ.

### Как установить

Python3.13 должен быть уже установлен. 

Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

Настройки программы хранятся в переменнной окружения **DJANGO_SETTINGS_MODULE** (файл `settings.py`).

Cами переменные окружения с данными хранятся в текстовом файле ***.env***.

Формат файла такой:
```
SECRET_KEY = #здесь секретный ключ доступа к базе
DB_PASSWORD = #здесь пароль пользователя
DB_HOST = #здесь имя хоста
DB_PORT = #здесь номер порта
DB_NAME = #здесь название базы данных
DB_USERNAME = #здесь имя пользователя
DEBUG= #режим отладки (False/True)
```
Код программы с импортом настроек из ***.env*** выглядит так:
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'HOST': os.getenv('DB_HOST'),
        'PORT': os.getenv('DB_PORT'),
        'NAME': os.getenv('DB_NAME'),
        'USER': os.getenv('DB_USERNAME'),
        'PASSWORD': os.getenv('DB_PASSWORD'),
    }
}
```
В базе данных ***Passcard*** содержится информация об имени пользователя (**owner_name**), пароле пользователя (**passcode**), дате регистрации пользователя (**created_at**) и активности пропуска пользователя (**is_active**).

В базе данных **Visit** содержится информация о посещениях хранилища: время входа (**entered_at**) и время выхода (**leaved_at**).

При запуске программs активируется портал (локальный адрес - 127.0.0.1:8000) на котором можно просмотреть количество активных пропусков, дата регистрации пропуска, время входа и время нахождения в хранилище по каждому пользователю отдельно, а также информация о пользователях, которые находятся в хранилище в данный момент.

***Запуск программы:***
```
python3.13 main.py
```
### Результат запуска программы
```
Открытие портала. Адрес по умолчанию - 127.0.0.1:8000

```
### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
